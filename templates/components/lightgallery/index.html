<th:block th:fragment="import">
  <link
    th:href="@{/assets/libs/lightgallery.js/css/lightgallery.min.css}"
    rel="stylesheet"
  />
  <script
    th:src="@{/assets/libs/lightgallery.js/js/lightgallery.min.js}"
  ></script>
</th:block>

<th:block th:fragment="script">
  <script type="text/javascript">
    const imageNodes = document.querySelectorAll("#post-content img");
    imageNodes.forEach(function (node) {
      if (node) {
        node.dataset.src = node.src;
      }
    });

    lightGallery(document.getElementById("post-content"), {
      selector: "img",
    });
  </script>
</th:block>
